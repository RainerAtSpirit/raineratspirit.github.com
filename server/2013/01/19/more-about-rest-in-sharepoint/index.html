
<!DOCTYPE html>
<!--[if lt IE 7]> <html class="no-js lt-ie9 lt-ie8 lt-ie7 ie" lang="en"> <![endif]-->
<!--[if IE 7]>    <html class="no-js lt-ie9 lt-ie8 ie" lang="en"> <![endif]-->
<!--[if IE 8]>    <html class="no-js lt-ie9 ie" lang="en"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"> <!--<![endif]-->
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<title>More about REST in SharePoint 2010/2013</title>
	<meta name="author" content="Rainer Wittmann">
	<link href='/assets/themes/the-program/css/style.css' rel="stylesheet" media="all">
	<link href="http://feeds.feedburner.com/" rel="alternate" title="More about REST in SharePoint 2010/2013" type="application/atom+xml">
	
    <script src="http://cdnjs.cloudflare.com/ajax/libs/modernizr/2.0.6/modernizr.min.js"></script>
</head>
<body>
<div id="logowrap">
    <div class="textlogo"><a href="/" title="Goin' back home">&lt;: &gt;</a></div>
</div>
<div id="page" class="hentry">
	<header class="the-header">
		<div class="unit-head">
			<div class="unit-inner unit-head-inner">
				<nav class="nav-global">
                   	<ul>
						<!--<li class="logo"><a href="/">RainerAtSpirit's blog</a></li>-->
						<li class="archive"><a href="/archive.html">archive</a></li>
						<li class="page"><a href="/pages.html">pages</a></li>
						<li class="category"><a href="/categories.html">categories</a></li>
						<li class="tag"><a href="/tags.html">tags</a></li>
                        
                        <li class="search">
                            <form action="/search.html" method="get">
                                <input type="search" placeholder="search Posts..." id="q" name="q"
                                       onkeypress="if(event.keyCode==13) {this.submit();}" class="ng-pristine ng-valid">
                            </form>
                        </li>
                        
					</ul>
				</nav>
			</div><!-- unit-inner -->
		</div><!-- unit-head -->
	</header>
	<div class="body" role="main">
		<div class="unit-body">
			<div class="unit-inner unit-body-inner">
				<div class="entry-content">
					
<article class="unit-article layout-post">
	<div class="unit-inner unit-article-inner">
		<div class="content">
			<header>
				<div class="unit-head">
					<div class="unit-inner unit-head-inner">
						<h1 class="h2 entry-title">More about REST in SharePoint 2010/2013</h1>
					</div><!-- unit-inner -->
				</div><!-- unit-head -->
			</header>

			<div class="bd">
				<div class="entry-content">
					<p>Hi there,</p>

<p>It&#8217;s been a while since the last post about SharePoint 2013 and why you should use REST when talking to it. I&#8217;m still convinced that this holds true in the long run, but you should be aware of a couple of facts that I&#8217;ve learned in the meantime.</p>

<p>At the time of this writing SharePoint 2013 only supports OData V2. <strong>How comes?</strong> During beta phase I got the impression that <code>/_api</code> acts as an OData V3 provider, but in the release version Microsoft pulled the plug and removed $metadata support. You can read more about that in this <a href='http://social.msdn.microsoft.com/Forums/en-US/appsforsharepoint/thread/9e10f90d-666b-4787-8775-4065d9d8af44/'>thread</a>, but here&#8217;s the relevant paragraph from the <a href='http://www.odata.org/media/30002/OData.html#metadatarequests'>specs</a>.</p>

<blockquote>
<p>OData services MUST expose a Metadata Document which defines all data exposed by the service. The Metadata Document URL SHOULD be the root URL of the service with &#8220;/$metadata&#8221; appended. To retrieve this document a client issues a GET request to the Metadata Document URL.</p>
</blockquote>

<p>If you read a MUST in the specs you know that without it (whatever else your service delivers) it&#8217;s definitively not an OData v3 provider. What makes that so disappointing is that JayData won&#8217;t work without having the $metadata information exposed to it.</p>

<p>If you&#8217;re like me and want to give JayData a try for abstracting the access to the underlying data provider, you should be aware of another limiting factor. Like jQuery 2.0 that was just announced, JayData is targeted to work with modern (mobile) browser. IE8 and below definitively doesn&#8217;t belong into that group and for JayData there&#8217;s no way to <em>shim</em> the missing required capabilities in.</p>

<p>Not a big deal you say, IE8 is outdated anyway and nobody in my org is using it any longer. Lucky you, go ahead and give the OData v2/JayData combo a try. If on the other hand you want to create an app and put it in the app store&#8230;</p>

<p>Guess what one of the <strong>MUST</strong> have criteria is that allows it to be placed in the app store is? You guessed right IE8 support! Read more about this requirement and some other pitfalls you might encounter in <a href='http://www.aidangarnish.net/post/Getting-a-SharePoint-2013-App-Submitted-to-the-Office-Store.aspx'>this post by Aidan Garnish</a>.</p>

<p>Hopefully Microsoft will deliver two things in the near future:</p>

<p>1. provide $metadata for <code>_api</code> -&gt; this will make <code>_api</code> a real OData v3 provider</p>

<p>2. lift the requirements for the app store. Come on guys IE8 is outdated and you&#8217;ve already got two newer releases out there!</p>

<p>but regardless if Microsoft will fulfill my small wish list or not, luckily you can get JayData running on SharePoint 2010 and SharePoint 2013 by using <code>_vti_bin/listdata.svc</code> as of today.</p>

<p><strong>Update:</strong>: As Thomas pointed out since the Feb. 5th update to the <a href='http://msdn.microsoft.com/en-us/library/office/apps/jj220035.aspx'>validation policies</a> IE8 is no longer a requirement for SharePoint app.</p>

<p>In order to get you started here are links to two example sites that will allow you to get hands-on. Both require that you know your way around in a browser console :), so pick up your favorite one and give it a try.</p>

<p><a href='http://jslq.spirit.de'>JavaScript language query playground</a></p>

<p><img alt='JSQL Playground example 13' src='/img/2013-01-18-JSQL-Example13.jpg' /></p>

<p>This is a live version of the JSLQ101 document that will allow you to work with a public OData v2 endpoint using JayData. Note that everything that you can do with the public OData v2 endpoint can be done using <code>_vti_bin/listdata.svc</code> in SharePoint 2010/2013.</p>

<p><a href='https://spirit2013preview-c3b1709654b2e8.sharepoint.com/sites/Demos/TypeScriptMeetsJayDataSharePointhosted/Pages/Default.aspx?SPHostUrl=https%3A%2F%2Fspirit2013preview%2Esharepoint%2Ecom%2Fsites%2FDemos&amp;SPLanguage=en-US&amp;SPClientTag=0&amp;SPProductNumber=15%2E0%2E4433%2E1011&amp;SPAppWebUrl=https%3A%2F%2FSpirit2013Preview-c3b1709654b2e8%2Esharepoint%2Ecom%2Fsites%2FDemos%2FTypeScriptMeetsJayDataSharePointhosted'>JSQL SharePoint 2013 app</a></p>

<p><strong>UserName</strong>: odatademo@spirit2013preview.onmicrosoft.com</p>

<p><strong>Password</strong>: OData!Demo</p>

<p><img alt='SharePoint hosted JSLQ example 6' src='/img/2013-01-18--SP13-Example6.jpg' /> This is a SharePoint-hosted app that allows you to use CRUD operation against the app web. The list structure is described in more detail by Chris O&#8217;Brien and consists of a simple project list and a custom time tracking list that has a lookup to the project list. Make yourself familiar with this setup by reading <a href='http://www.sharepointnutsandbolts.com/2012/08/create-lists-content-types-files-etc.html'>this post from Chris</a>.</p>

<p>Note even if this is an SharePoint hosted app running on SharePoint 2013, because it&#8217;s using <code>_vti_bin/listdata.svc</code> this would work on SP2010 as well.</p>
					<div class="meta">
						<p class="date-publish">
							Published: 
							<date class="date-pub" title="2013-01-19T00:00:00+01:00" datetime="2013-01-19T00:00:00+01:00" pubdate>
							<span class="month"><abbr>January</abbr></span>
							<span class="day">19</span>
							<span class="year">2013</span>
							</date>
						</p>
						<ul class="list-category list-linear">
							<li class="list-head">category: </li>
							
							


  
     
    	<li><a href="/categories.html#Good to know-ref">
    		Good to know <span>13</span>
    	</a></li>
    
  


						</ul>
						<ul class="list-tag list-linear">
							<li class="list-head">tags: </li>
							
							


  
     
    	<li><a href="/tags.html#SharePoint 2013-ref">SharePoint 2013 <span>8</span></a></li>
     
    	<li><a href="/tags.html#AutoHosted Apps-ref">AutoHosted Apps <span>5</span></a></li>
     
    	<li><a href="/tags.html#REST-ref">REST <span>2</span></a></li>
     
    	<li><a href="/tags.html#OData-ref">OData <span>1</span></a></li>
    
  



						</ul>
					</div><!-- meta -->
				</div><!-- entry-content -->
				<div class="misc-content">
					<div class="social">
						<ul class="list-linear">
							<li><div class="twitter-tweet"><a href="https://twitter.com/share" class="twitter-share-button" data-count="horizontal" data-via="RainerAtSpirit" data-lang="en">Tweet</a></div></li>
							<li><div class="twitter-follow"><a href="https://twitter.com/RainerAtSpirit" class="twitter-follow-button" data-show-count="false" data-lang="en"></a></div></li>
						</ul>
					</div>
					<div class="comment">
					


  <div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_developer = 1;
    var disqus_shortname = 'raineratspirit'; // required: replace example with your forum shortname
    
    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>




					</div>
				</div><!-- misc-content -->
			</div><!-- bd -->
			<footer class="unit-foot">
				<div class="unit-inner unit-foot-inner">
					<nav class="pagination">
						<ul>
							
							<li class="prev"><a class="internal" rel="prev"  href="/2012/10/05/sharepoint-2013-apps-csom-vs-rest" title="View SharePoint 2013 apps: CSOM vs. REST?">&laquo; SharePoint 2013 apps: CSOM vs. REST?</a></li>
							
							
							<li class="pipe"> | </li>
							
							
							<li class="next"><a class="internal" rel="next"  href="/2013/02/21/durandal-meets-sharepoint-2013" title="View Durandal meets SharePoint 2013">Durandal meets SharePoint 2013 &raquo;</a></li>
							
						</ul>
					</nav>
					<p class="gotop">
						<a href="#page">Back to Top</a>
					</p>
				</div>
			</footer>

		</div><!-- content -->
	</div><!-- unit-inner -->
</article>


				</div>
			</div><!-- unit-inner -->
		</div><!-- unit-body -->
	</div><!-- body -->
	<footer class="the-footer">
		<div class="unit-foot">
			<div class="unit-inner unit-foot-inner">
				<div class="misc vcard">
					<h4>about</h4>
					<ul>
						<!--<li class="contact"><address><span class="author fn n">Rainer Wittmann</span> - <span class="fn email">R.Wittmann@spirit.de</span></address></li>-->
						<li class="github"><a href="http://github.com/RainerAtSpirit/" rel="me">github.com/RainerAtSpirit</a></li>
						<li class="twitter"><a href="http://twitter.com/RainerAtSpirit/" rel="me">twitter.com/RainerAtSpirit</a></li>
                        <li class="rss"><a href="/atom.xml">Subscribe to RSS Feed</a></li>
						<!--<li class="rss"><a href="http://feeds.feedburner.com/">Subscribe to RSS Feed</a></li>-->
					</ul>
				</div><!-- misc -->
				<p class="licence">
					Theme: <a href="https://github.com/jekyllbootstrap/theme-the-program">the_program</a><br />
                    Based on <a href="http://jekyllbootstrap.com/">Jekyll-bootstrap</a><br />
					Powered by <a href="https://github.com/mojombo/jekyll">Jekyll</a>
				</p>

			</div><!-- unit-foot-inner -->
		</div><!-- unit-foot -->
	</footer>
</div><!-- page -->
<script>
	(function(d, s) {
		var js, fjs = d.getElementsByTagName(s)[0], load = function(url, id) {
		if (d.getElementById(id)) {return;}
		js = d.createElement(s); js.src = url; js.id = id;
		fjs.parentNode.insertBefore(js, fjs);
		};
	load('//platform.twitter.com/widgets.js', 'tweetjs');
	// load('https://apis.google.com/js/plusone.js', 'gplus1js'); // Checkout http://j.mp/ApDgMr for usage html for this is <div class="g-plusone" data-size="medium"></div>
	// load('//connect.facebook.net/en_US/all.js#xfbml=1', 'fbjssdk'); // Checkout http://j.mp/wZw2xR for using open graph protorol html for this is <div class="fb-like" data-href="/2013/01/19/more-about-rest-in-sharepoint" data-send="false" data-layout="button_count" data-width="450" data-show-faces="false" data-font="verdana"></div>
	}(document, 'script'));
</script>
<script>
/*! A fix for the iOS orientationchange zoom bug.Script by @scottjehl, rebound by @wilto. MIT License.*/
(function(j){var i=j.document;if(!i.querySelectorAll){return}var l=i.querySelectorAll("meta[name=viewport]")[0],a=l&&l.getAttribute("content"),h=a+", maximum-scale=1.0",d=a+", maximum-scale=10.0",g=true,c=j.orientation,k=0;if(!l){return}function f(){l.setAttribute("content",d);g=true}function b(){l.setAttribute("content",h);g=false}function e(m){c=Math.abs(j.orientation);k=Math.abs(m.gamma);if(k>8&&c===0){if(g){b()}}else{if(!g){f()}}}j.addEventListener("orientationchange",f,false);j.addEventListener("deviceorientation",e,false)})(this);
</script>
  
  
</body>
</html>

